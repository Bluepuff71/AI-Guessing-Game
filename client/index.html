<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOOT RUN - Online Multiplayer</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/game.css">
</head>
<body>
    <div id="app">
        <!-- Auth Screen -->
        <div id="auth-screen" class="screen active">
            <div class="container">
                <h1 class="title">LOOT RUN</h1>
                <p class="subtitle">Online Multiplayer</p>

                <div class="auth-tabs">
                    <button class="tab-btn active" data-tab="login">Login</button>
                    <button class="tab-btn" data-tab="register">Register</button>
                </div>

                <form id="login-form" class="auth-form active">
                    <input type="text" id="login-username" placeholder="Username or Email" required>
                    <input type="password" id="login-password" placeholder="Password" required>
                    <button type="submit" class="btn primary">Login</button>
                </form>

                <form id="register-form" class="auth-form">
                    <input type="email" id="register-email" placeholder="Email" required>
                    <input type="text" id="register-username" placeholder="Username" required>
                    <input type="password" id="register-password" placeholder="Password" required>
                    <button type="submit" class="btn primary">Register</button>
                </form>

                <div id="auth-error" class="error-msg"></div>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobby-screen" class="screen">
            <div class="container">
                <div class="header">
                    <h2>Welcome, <span id="player-name"></span>!</h2>
                    <button id="logout-btn" class="btn small">Logout</button>
                </div>

                <div class="lobby-actions">
                    <button id="create-lobby-btn" class="btn primary large">Create Lobby</button>
                    <div class="divider">or</div>
                    <div class="join-form">
                        <input type="text" id="join-code" placeholder="Enter lobby code" maxlength="6">
                        <button id="join-lobby-btn" class="btn secondary">Join</button>
                    </div>
                </div>

                <div id="lobby-error" class="error-msg"></div>
            </div>
        </div>

        <!-- Waiting Room Screen -->
        <div id="waiting-room-screen" class="screen">
            <div class="container">
                <div class="lobby-header">
                    <h2>Lobby</h2>
                    <div class="lobby-code">
                        Code: <span id="lobby-code-display"></span>
                        <button id="copy-code-btn" class="btn small">Copy</button>
                    </div>
                </div>

                <div id="player-list" class="player-list">
                    <!-- Players will be inserted here -->
                </div>

                <div class="lobby-controls">
                    <button id="ready-btn" class="btn secondary">Ready</button>
                    <button id="start-game-btn" class="btn primary" disabled>Start Game</button>
                    <button id="leave-lobby-btn" class="btn danger">Leave</button>
                </div>

                <div id="waiting-error" class="error-msg"></div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-container">
                <!-- Game Header -->
                <div class="game-header">
                    <div class="round-info">
                        Round <span id="round-number">1</span>
                    </div>
                    <div id="timer" class="timer">
                        <span id="timer-value">30</span>s
                    </div>
                    <div class="phase-info" id="phase-info">
                        Choose your location
                    </div>
                </div>

                <!-- Standings -->
                <div class="standings-panel">
                    <h3>Standings</h3>
                    <div id="standings-list" class="standings-list">
                        <!-- Standings will be inserted here -->
                    </div>
                </div>

                <!-- Location Grid -->
                <div id="location-grid" class="location-grid">
                    <!-- Locations will be inserted here -->
                </div>

                <!-- AI Info -->
                <div id="ai-info" class="ai-info">
                    <span id="last-ai-search"></span>
                </div>

                <!-- Game Messages -->
                <div id="game-messages" class="game-messages">
                    <!-- Messages will appear here -->
                </div>
            </div>
        </div>

        <!-- Escape Modal -->
        <div id="escape-modal" class="modal">
            <div class="modal-content">
                <h2>You've been caught!</h2>
                <p>Choose your escape option:</p>
                <div id="escape-options" class="escape-options">
                    <!-- Escape options will be inserted here -->
                </div>
                <div id="escape-timer" class="escape-timer">
                    <span id="escape-timer-value">15</span>s
                </div>
            </div>
        </div>

        <!-- Result Modal -->
        <div id="result-modal" class="modal">
            <div class="modal-content">
                <h2 id="result-title">Round Result</h2>
                <div id="result-content">
                    <!-- Results will be inserted here -->
                </div>
                <button id="continue-btn" class="btn primary">Continue</button>
            </div>
        </div>

        <!-- Game Over Modal -->
        <div id="gameover-modal" class="modal">
            <div class="modal-content gameover">
                <h2 id="gameover-title">Game Over</h2>
                <div id="gameover-content">
                    <!-- Game over info will be inserted here -->
                </div>
                <button id="back-to-lobby-btn" class="btn primary">Back to Lobby</button>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/websocket.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
